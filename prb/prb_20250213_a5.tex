%% kind : preamble file
%% tex type : LuaLaTeX
%% created 2024.10.24
%% modified 2025.01.03
%% paper size : A5
%% font en : CMU
%% font ja : Hiragino Sans W2 / W4
%% HiraMinProN-w3
%% using physics2 pkg, backgroundcolor = True/cream

\documentclass[a5paper, 9pt]{ltjsarticle}

%\usepackage[showframe]{geometry}
\usepackage{geometry}
\geometry{margin=1cm, top=1.5cm}

\usepackage{amsmath, amssymb, amsthm}
\usepackage{tikz}

\usepackage{ascmac} % boxnote, itembox, mask, screen, shadebox
\usepackage{comment}
\usepackage{empheq}
\usepackage[shortlabels, inline]{enumitem}
\usepackage{fancybox} % doublebox, ovalbox, fbox, sbox
\usepackage{fancyhdr}
    %%\pagestyle{fancy}
    %%\[r, l, c]head{hoge}
    %%\[r, l, c]foot{hoge}


\usepackage{here}
\usepackage{lastpage}
\usepackage{listings, jvlisting} % code insert // jvlisting→jlistingに移行すべきとも
    %%\lstset{}以下でコードの出力方法について指定

\usepackage{stmaryrd} % 特殊記号類
\usepackage[listings]{tcolorbox}
\usepackage{titlesec} % change title format
     %% example %% 

     %%\titleformat{\section}[display]{\bfseries\gtfamily}{}{10pt}{%
     %%\begin{tcolorbox}[%
     %%    enhanced,%
     %%    colback=white,colbacktitle=white,colframe=black,coltitle=black,%
     %%    boxrule=1.5pt,sharp corners,%
     %%    borderline={1.5pt}{3pt}{black},%
     %%    ]%
     %%    \centering Section \thesection \\
     %%    \LARGE #1%
     %%\end{tcolorbox}%
     %%}
     %%\titleformat{\section}[block]{
     %%   \normalfont\bfseries\filcenter
     %%   }{\fbox{\itshape\thesection}}{1em}{}
     %%\titleformat{\section}[hang]{\large\bfseries}
     %%  {\colorbox{blue!20}{\thesection}}{10.5pt}{}%
     %%  [\color{blue!20}{\titlerule}]

%% color setting
     %% \definecolor{mycream}{HTML}{FEFAEA}
     %% \definecolor{myvio}{HTML}{05208C}

     %% \titleformat{\section}[hang]{\large\bfseries}
     %% {\colorbox{myvio}{\color{mycream}\thesection}}{1\zw}{}%
     %% [{\titlerule[0.5pt]}]
    
     %% \usepackage{pagecolor}
	 %% \pagecolor{mycream}
	 %% \color{myvio}



\usepackage{ulem} %% uline, uuline, uwave, sout, xout
\usepackage{url} %% url
\usepackage{verbatim} %%\verb|hoge| or verbatim env. option[*] : space visible
\usepackage{wrapfig}
\usepackage{xcolor}
%\usepackage{luatexja-ruby}

%\usepackage{minipage}
\usepackage{varwidth} %% minipageより自然な幅?

\usepackage{siunitx}
\usepackage{physics2}
  \usephysicsmodule{ab}
  %\usephysicsmodule{ab.braket} %% conflict w/ braket
  \usephysicsmodule{braket}
  \usephysicsmodule{diagmat}
  \usephysicsmodule{doubleprod}
  \usephysicsmodule{xmat}

\usepackage[ISO]{diffcoeff}
  \difdef {f, s} {D}
  {op-symbol = \mathrm{D}}




\numberwithin{equation}{section} %% equation numbering setting

%% ============ %%
%% font setting %%
%% ============ %%
%% series 1
%%\usepackage[no-math, deluxe, expert]{luatexja-preset}
%%\setmainfont[Ligatures=TeX]{EB Garamond Regular}[
%%  BoldFont = {EB Garamond Bold},
%%  ItalicFont = {EB Garamond Italic},
%%  BoldItalicFont = {EB Garamond Bold Italic}
%%  ]
\usepackage[math-style=TeX]{unicode-math}
\usepackage{mathtools}

%%\setmathfont{Garamond-Math.otf}%[StylisticSet={7,9}]
%%\setmainjfont{TsukuhouMincho Regular}[
%%  BoldFont = {Zen Old Mincho Bold}
%%  ]
%%\setsansjfont{Hiragino Sans GB W3}


%% series 2
\usepackage[no-math,deluxe,expert]{luatexja-preset}
%\setmainjfont{Hiragino Sans W2}[
%  BoldFont = {Hiragino Sans W4}
%]


\setmathfont{NewComputerModernMath}
\setmainfont{NewComputerModern10}

%\setmathfont[version=old]{Old Standard}

%\setmathfont{XCharter Math}[
%  range = up/{greek, Greek}
%]
%\setmathfont{XCharter Math}[
%  range = it/{greek, Greek}
%]
%\setmathfont{XCharter Math}[
%  range = bfup/{greek, Greek}
%]
%\setmathfont{XCharter Math}[
%  range = bfit/{greek, Greek}
%]
%
%\setmainfont{TeX Gyre Schola}

%\setmathfont{OldStandard-Math}
%\setmainfont{Old Standard}


%\setmathfont{NewComputerModernMath}
%\setmainfont{NewComputerModern10-Regular}[
%	BoldFont = {NewComputermModern10-Bold}
%	BoldItalicFont = {NewComputerModern10-BoldItalic}
%]

\setmainjfont{HiraMinProN-W3}[
	BoldFont = {Hiragino Sans W4}
]

\usepackage{tocloft}% table of contents

\usepackage{luatexja-otf}
\usepackage{utfsym}

\definecolor{mycream}{HTML}{FEFAEA}
\definecolor{myvio}{HTML}{03155B}
\definecolor{blue-green}{rgb}{0.0, 0.87, 0.87}
\definecolor{bluegray}{rgb}{0.4, 0.6, 0.8}
\definecolor{mint}{rgb}{0.24, 0.71, 0.54}
\definecolor{dark-mint}{HTML}{3B876B}

\usepackage[luatex,pdfencoding=auto]{hyperref}
\hypersetup{%
	colorlinks=true,%
	linkcolor = dark-mint,%
	urlcolor = orange,%
}

%% ====================== %%
%% titleformat (titlesec) %%
%% ====================== %%

%\titleformat*{\section}{\large\bfseries\sffamily}
%\titleformat*{\subsection}{\large\bfseries\sffamily}
%\titleformat*{\subsubsection}{\normalsize\bfseries\sffamily}

\titleformat*{\section}{\normalsize\bfseries}
\titleformat*{\subsection}{\normalsize\bfseries}
\titleformat*{\subsubsection}{\normalsize\bfseries}
%%
\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesection.\arabic{subsection}.\arabic{subsubsection}}

\titlespacing{\section}{0pt}{7pt}{5pt}[4cm]
\titlespacing{\subsection}{0pt}{5pt}{5pt}
\titlespacing{\subsubsection}{0pt}{3pt}{5pt}

\theoremstyle{definition}
\newtheorem{dfn}{Definition}[section]
\newtheorem{prop}[dfn]{Proposition}
\newtheorem{lem}[dfn]{Lemma}
\newtheorem{thm}[dfn]{Theorem}
\newtheorem{cor}[dfn]{Corollary}
\newtheorem{rem}[dfn]{Remark}
\newtheorem{fact}[dfn]{Fact}

%% ============= %%
%% tcbuselibrary %%
%% ============= %%
  \tcbuselibrary{most}
  \tcbset{colback=white,colframe=blue!75!black}
  \newtcbtheorem[number within = section]{example}{Example}{
    enhanced,
    %colback = white
    colframe = blue!50!white,
    %fonttitle=\bfseries,
    breakable = true
  }{thm}
  %enhanced, breakable=true, colframe=blue!75!black, colback=blue!5!white, title={Exemple}, arc = 0mm}
  %{colback=green!5,colframe=green!35black,fonttitle=\bfseries}{th}

  \newtcbtheorem[number within = section]{exercise}{Exercise}{
  enhanced, 
  breakable=true,
  colframe=yellow!25!green
  %colback=white
  }{thm}

  \newtcbtheorem[use counter from=example]{theorem}{Theorem}{
  enhanced, 
  breakable=true, 
  colframe=green!30!blue
  %colback=white
  }{thm}

  \newtcbtheorem[use counter from=example]{proposition}{Proposition}{
  enhanced, 
  breakable=true, 
  colframe=orange!75!black,
  %colback=white
  }{thm}

  \newtcbtheorem[use counter from=example]{definition}{Definition}{
  enhanced, 
  breakable=true, 
  colframe=magenta!30!green,
  %colback=white
}{thm}

  \newtcbtheorem[use counter from=example]{remark}{Remark}{
  enhanced,
  breakable=true, 
  colframe=red!80!white, 
  %colback=white
}{thm}
\tcbset{
  proofbox/.style={
    breakable,
    enhanced,
    frame hidden,
    borderline={0.3pt}{3pt}{black,dashed},
    %fontupper = \fontsize{9pt}{8pt}\selectfont,
    %before upper = {\everymath{\scriptstyle}},
    colback = white,
    arc = 0mm,
    outer arc = 0mm
  }
}



%% =============================== %%
%% import renewcommand, newcommand %%
%% =============================== %%

%% main.tex のファイルからの相対パスを示すか，絶対パスを示す
\input{/Users/crutont/Documents/github/LaTeX_open/prb/renew_newcmd.tex}
%\input{../prb/renew_newcmd.tex}

